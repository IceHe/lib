title: ASM 汇编语言 1
date: 2015-04-01
noupdate: true
categories: [ASM]
tags: [ASM]
description: ASM - Note&#58; 寄存器，段寄存器，CS 和 IP，修改 CS、IP 的指令，查看 CPU 和内存。
---

<ul><li>Created on 2014-10</li></ul><br/>

<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div>教材：《汇编语言》（第二版）王爽 著 清华大学出版社</div><div><br/></div><div><b>章一、基础知识</b></div><div><br/></div><div>1.3 汇编语言的组成：</div><div>（1）汇编指令：机器码的助记符。（核心）</div><div>（2）伪指令：没有对应的机器码，由编译器执行，计算机并不执行。</div><div>（3）其它符号：如+、-、*、/等，由编译器识别，没有对应的机器码。</div><div><br/></div><div>1.7 CPU对储存器的读写</div><div>总线从逻辑上分3类：地址线、数据线、控制线。</div><div><br/></div><div><b>章二、寄存器</b></div><div><br/></div><div>2.2 字在寄存器中的存储</div><div>低字节：权越小，越低。个位的数字的权是1，十位的权是2，百位的权是4，如此类推。</div><div>高字节：权比较大的位（该位的数字代表的分量较大），即为高字节。</div><div>与此相关的是——大小端、网络字节序</div><div><br/></div><div>2.3</div><div>指令的两个操作对象的位数应该一致。</div><div><br/></div><div>2.9 段寄存器</div><div>8086CPU有四个段寄存器：CS、DS、SS、ES。</div><div><br/></div><div>2.10 CS和IP</div><div>CS为代码段（code segment?）寄存器，IP为指令指针（instruction ptr?）寄存器。</div><div>任意时刻CPU将CS:IP指向的内容当作指令执行。</div><div><br/></div><div>2.11 修改CS、IP的指令</div><div>jmp指令：jmp 段地址:偏移地址 —— jmp 2AE3:3</div><div><br/></div><div>8086CPU的工作过程：</div><div>（1）从CS:IP指向的内存单位读取指令，读取的指令进入指令缓存器</div><div>（2）IP指向下一条指令</div><div>（3）执行指令。（转到步骤（1），重复这个过程）</div><div><br/></div><div><strong>Chapter2 实验1 查看CPU和内存，用机器指令和汇编指令编程</strong></div><div>Debug是DOS、Windows都提供的实模式（8086方式）程序的调试工具。</div><div>它可以查看CPU各种寄存器的内容、内存的情况和在机器码级跟踪程序的运行。</div><div><br/></div><div>使用工具：<a href="evernote:///view/7264256/s33/17e88a1c-16e1-496e-9dbf-8546ace1ecaa/17e88a1c-16e1-496e-9dbf-8546ace1ecaa/" style="color:#69aa35">win7 64位系统怎么使用debug</a></div><div><br/></div>
指令<br/><div>R &nbsp; &nbsp; 查看、改变CPU<b>寄存器</b>的内容</div><div>D &nbsp; &nbsp; 查看<b>内存</b>中的内容</div><div>E &nbsp; &nbsp; <b>改写</b>内存中的内容</div><div>U &nbsp; &nbsp; 将内存中的机器指令<b>翻译成汇编指令</b></div><div>T &nbsp; &nbsp; <b>执行</b>一条（CS:IP指向的）机器指令</div><div>A &nbsp; &nbsp; <b>以汇编指令</b>的格式，在内存中<b>写入一条机器指令</b></div><div><b><br/></b></div><div>G &nbsp; &nbsp; 跳转执行到指定的内存位置</div><div>P &nbsp; &nbsp; 程序执行到最后一步，必须使用的指令</div><div><b><br/></b></div><div>通用寄存器：ax,bx,cx,dx</div><div>段寄存器：ds,es,ss,cs</div><div>偏移地址寄存器：sp.ip,bp,si,di</div><div>标志寄存器：flag</div><div><br/></div><div>熟悉基础操作过程的截图：</div><div><img width="633px" height="380px" src="http://7vzp68.com1.z0.glb.clouddn.com/Assembly%20Language%20-%20Note%201/4bc20fd901206044a792ae37d5ccd1b3.png" /></div><div><br/></div><div><img width="628px" height="310px" src="http://7vzp68.com1.z0.glb.clouddn.com/Assembly%20Language%20-%20Note%201/8274851476c413d426e343e69e8e5187.png" /></div><div><br/></div><div><img width="614px" height="193px" src="http://7vzp68.com1.z0.glb.clouddn.com/Assembly%20Language%20-%20Note%201/17ee180333575eb889d093caeb72a845.png" /></div><div><br/></div><div><img width="337px" height="161px" src="http://7vzp68.com1.z0.glb.clouddn.com/Assembly%20Language%20-%20Note%201/706f7ccda236318f3be58b20c32a521d.png" /></div><div><br/></div><div><img width="619px" height="353px" src="http://7vzp68.com1.z0.glb.clouddn.com/Assembly%20Language%20-%20Note%201/55b18e7e228e351d59ab509d2d91d089.png" /></div><div><br/></div><div><img width="317px" height="145px" src="http://7vzp68.com1.z0.glb.clouddn.com/Assembly%20Language%20-%20Note%201/565deced8c0a4ce33c0b5eb86a066b28.png" /></div><div><br/></div><div><img width="564px" height="381px" src="http://7vzp68.com1.z0.glb.clouddn.com/Assembly%20Language%20-%20Note%201/1ee20fb40a66fb58acb5ba8312ac301d.png" /></div><div><br/></div><div><img width="617px" height="284px" src="http://7vzp68.com1.z0.glb.clouddn.com/Assembly%20Language%20-%20Note%201/a04b37ec53451fff31c98c59b1ee0343.png" /></div><div><br/></div><div><br/></div><div>实验任务：</div><div>（1）</div><div><img width="231px" height="288px" src="http://7vzp68.com1.z0.glb.clouddn.com/Assembly%20Language%20-%20Note%201/bac5af4d74353db662a06aaf11cbe162.png" /></div><div><br/></div><div><img width="573px" height="385px" src="http://7vzp68.com1.z0.glb.clouddn.com/Assembly%20Language%20-%20Note%201/3c1fa34129c318f8ef086ac0725b126a.png" /></div><div><br/></div><div><img width="564px" height="377px" src="http://7vzp68.com1.z0.glb.clouddn.com/Assembly%20Language%20-%20Note%201/6b62a7dc51f24ad3ee0932c29fade4fc.png" /></div><div><br/></div><div><img width="622px" height="369px" src="http://7vzp68.com1.z0.glb.clouddn.com/Assembly%20Language%20-%20Note%201/386bad5a0f13c43e209df53c0b81298f.png" /></div><div><br/></div><div>（2）计算2的8次方。</div><div>(在内存2000:0开始写该程序）</div><div>mov ax, 1</div><div>add ax, ax</div><div>add ax, ax</div><div>add ax, ax</div><div>&nbsp; &nbsp; &nbsp;or</div><div>mov ax, 1</div><div>add ax, ax</div><div>jmp 2000:3 &nbsp; &nbsp; (暂时的知识不足以写出循环控制语句！)</div><div>（3）结论：内存FFF00H~FFFFFH为ROM区,内容可读但不可写。</div><div>（4）结论：8086的显存地址空间是A0000H～BFFFFH,其中B8000H～BFFFFH为80*25彩色字符模式显示缓冲区,当向这个地址空间写入数据时,这些数据会立即出现在显示器上。</div></div>
