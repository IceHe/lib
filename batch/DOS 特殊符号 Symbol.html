title: Batch 批处理中的特殊符号
date: 2015-03-03
noupdate: true
categories: [Batch]
tags: [Batch]
description: DOS Batch file Symbols&#58; 指令符号，短路"与"执行&#38;&#38; 短路"或"执行&#166;&#166; 连续执行&#38; 管道&#166; 指令隐藏显示@ 注释&#58;&#58;
---
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><b>指令符号：</b></div><div><br/></div><div><b>&amp;</b> &nbsp; &nbsp; 执行相邻的所有指令，无论是否有发生错误</div><div><b>&amp;&amp; &nbsp;</b> &nbsp; 前一个指令执行错误，不执行后一个指令</div><div><b>||</b> &nbsp; &nbsp; 抢一个指令执行正确，不执行后一个指令</div><div><b>|</b> &nbsp; &nbsp; 管道指令，前一指令的执行结果，作为下一指令的输入</div><div><br/></div><div><br/></div><div><b>&gt;</b> &nbsp; &nbsp; 输出重定向到一个文件，文件清空，从头写</div><div><b>&gt;&gt;</b> &nbsp; &nbsp;&nbsp;输出重定向到一个文件，从文件最后开始写</div><div><b>&lt;</b> &nbsp; &nbsp; 从一个文件的内容作为某指令的输入</div><div><br/></div><div><br/></div><div>&gt;&amp; 将一个句柄的输出写入到另一个句柄的输入中。&nbsp;</div><div>&lt;&amp; 从一个句柄读取输入并将其写入到另一个句柄输出中。</div><div><br/></div><div><br/></div><div>^ &nbsp; &nbsp; 1.转义符，如果要输出^|&amp;@等的特殊字符，需要用^^、^|、^&amp;、^@等。</div><div>&nbsp; &nbsp; &nbsp;2.分行符，如以下的多行指令，会输出一行字符：1234</div><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div>@echo 1^</div><div>2^</div><div>3^</div><div>4</div><div>最后一行不带^，说明指令到这结束。</div></blockquote><div>&nbsp; &nbsp; &nbsp;3.异或，用于set指令的计算功能</div><div>&nbsp; &nbsp; &nbsp;4.其它，详于下文…</div><div><br/></div><div>----------------------------------------------------------------------</div><div><br/></div><div>~<br/>
① 在for中表示使用增强的变量扩展。<br/>
② 在%var:~n,m%中表示使用扩展环境变量指定位置的字符串。<br/>
③ 在set/a中表示一元运算符，将操作数按位取反。</div><div><br/></div><div><br/></div><div>!<br/>
① 在set /a中一元运算符，表示逻辑非。比如set /a a=!0，这时a就表示逻辑1。</div><div><br/></div><div><br/>
$<br/>
① 在findstr命令里面表示一行的结束。<br/>
② 在prompt命令里面，表示将其后的字符转义（符号化或者效果化）。</div><div><br/></div><div><br/>
%<br/>
① 在set /a中的二元运算符，表示算术取余。<br/>
② 命令行环境下，在for命令in前，后面接一个字符（可以是字母、数字或者一些特定字符），表示指定一个循环或者遍历指标变量。<br/>
③ 批处理中，后接一个数字表示引用本批处理当前执行时的指定的参数。<br/>
④ 其它情况下，%将会被脱去（批处理）或保留（命令行）</div><div><br/></div><div><br/>
^<br/>
① 取消特定字符的转义作用，比如&amp; | &gt; &lt; ! &quot;等，但不包括%。比如要在屏幕显示一些特殊的字符，比如&gt; &gt;&gt; | ^ &amp;等符号时，就可以在其前面加一个^符号来显示这个^后面的字符了，^^就是显示一个^，^|就是显示一个|字符了;<br/>
② 在set/a中的二元运算符，表示按位异或。<br/>
③ 在findstr/r的[]中表示不匹配指定的字符集。</div><div><br/></div><div><br/>
&amp;<br/>
① 命令连接字符。比如我要在一行文本上同时执行两个命令，就可以用&amp;命令连接这两个命令。<br/>
② 在set/a中是按位与。</div><div><br/></div><div><br/>
*<br/>
① 代表任意个任意字符，就是我们通常所说的&quot;通配符&quot;;比如想在c盘的根目录查找c盘根目录里所有的文本文件(.txt)，那么就可以输入命令&quot;dir c:\*.txt&quot;。<br/>
② 在set /a中的二元运算符，表示算术乘法。<br/>
③ 在findstr/r中表示将前一个字符多次匹配。</div><div><br/></div><div><br/>
-<br/>
① 范围表示符，比如日期的查找，for命令里的tokens操作中就可以用到这个字符。<br/>
② 在findstr/r中连接两个字符表示匹配范围。<br/>
③ -跟在某些命令的/后表示取反向的开关。<br/>
④ 在set /a中：<br/>
&nbsp;&nbsp; 1.表示一个负数。<br/>
&nbsp;&nbsp; 2.表示算术减运算。</div><div><br/></div><div><br/>
+<br/>
① 主要是在copy命令里面会用到它，表示将很多个文件合并为一个文件，就要用到这个+字符了。<br/>
② 在set/a中的二元运算符,表示算术加法。</div><div><br/></div><div><br/>
:<br/>
① 标签定位符，表示其后的字符串为以标签，可以作为goto命令的作用对象。比如在批处理文件里面定义了一个&quot;:begin&quot;标签，用&quot;goto begin&quot;命令就可以转到&quot;:begin&quot;标签后面来执行批处理命令了。<br/>
② 在%var:string1=string2%中分隔变量名和被替换字串关系。</div><div><br/></div><div><br/>
|<br/>
① 管道符，就是将上一个命令的输出，作为下一个命令的输入.&quot;dir /a/b |more&quot;就可以逐屏的显示dir命令所输出的信息。<br/>
② 在set/a中的二元运算符，表示按位或。<br/>
③ 在帮助文档中表示其前后两个开关、选项或参数是二选一的。</div><div><br/></div><div><br/>
/<br/>
① 表示其后的字符（串）是命令的功能开关（选项）。比如&quot;dir /s/b/a-d&quot;表示&quot;dir&quot;命令指定的不同的参数。<br/>
② 在set/a中表示除法。</div><div><br/></div><div><br/>
&gt;<br/>
① 命令重定向符，将其前面的命令的输出结果重新定向到其后面的设备中去，后面的设备中的内容被覆盖。比如可以用&quot;dir &gt; lxmxn.txt&quot;将&quot;dir&quot;命令的结果输出到&quot;lxmxn.txt&quot;这个文本文件中去。<br/>
② 在findstr/r中表示匹配单词的右边界，需要配合转义字符\使用。</div><div><br/></div><div><br/>
&lt;<br/>
① 将其后面的文件的内容作为其前面命令的输入。<br/>
② 在findstr/r中表示匹配单词的左边界，需要配合转义字符\使用。</div><div><br/></div><div><br/>
=<br/>
① 赋值符号，用于变量的赋值。比如&quot;set a=windows&quot;的意思意思是将&quot;windows&quot;这个字符串赋给变量&quot;a&quot;。<br/>
② 在set/a中表示算术运算，比如&quot;set /a x=5-6*5&quot;。</div><div><br/></div><div><br/>
\<br/>
① 这个&quot;\&quot;符号在有的情况下，代表的是当前路径的根目录.比如当前目录在c:\windows\system32下，那么你&quot;dir \&quot;的话，就相当与&quot;dir c:\&quot;。<br/>
② 在findstr/r中表示正则转义字符。</div><div><br/></div><div><br/>
,<br/>
① 在set /a中表示连续表达式的分割符。<br/>
② 在某些命令中分割元素。</div><div><br/></div><div><br/>
.<br/>
① 在路径的\后紧跟或者单独出现时：<br/>
&nbsp;&nbsp; 一个.表示当前目录。<br/>
&nbsp;&nbsp; 两个.表示上一级目录。<br/>
② 在路径中的文件名中出现时：<br/>
&nbsp;&nbsp; 最后的一个.表示主文件名与扩展文件名的分隔。</div><div><br/></div><div><br/>
?<br/>
① 在findstr/r中表示在此位置匹配一个任意字符。<br/>
② 在路径中表示在此位置通配任意一个字符。<br/>
③ 紧跟在/后表示获取命令的帮助文档。<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 二、多符号(符号不能分隔)</div><div><br/></div><div><br/>
&amp;&amp;<br/>
① 连接两个命令，当&amp;&amp;前的命令成功时，才执行&amp;&amp;后的命令。</div><div><br/></div><div>||<br/>
① 连接两个命令，当||前的命令失败时，才执行||后的命令。</div><div><br/></div><div>&gt;&amp;<br/>
① 将一个句柄的输出写入到另一个句柄的输入中。</div><div><br/>
&lt;&amp;<br/>
① 从一个句柄读取输入并将其写入到另一个句柄输出中。</div><div><br/></div><div><br/>
%%<br/>
① 两个连续的%表示在预处理中脱为一个%。<br/>
② 批处理中，在for语句的in子句之前，连续两个%紧跟一个字符（可以是字母、数字和一些特定字符），表示指定一个循<br/>
环或者遍历指标变量。<br/>
③ 批处理中，在for语句中，使用与in之前指定的指标变量相同的串，表示引用这个指标变量。</div><div><br/></div><div><br/>
&gt;&gt;<br/>
① 命令重定向符，将其前面的命令的输出结果追加到其后面的设备中去。<br/>
② 在set /a中的二元运算符，表示逻辑右移。</div><div><br/></div><div><br/>
==<br/>
① 在if命令中判断==两边的元素是否相同。</div><div><br/></div><div><br/>
&lt;&lt;<br/>
① 在set /a中的二元运算符，表示逻辑左移。</div><div><br/></div><div><br/>
+=<br/>
① 在set /a中的二元运算符。例如set /a a+=b表示将a加上b的结果赋值给a。</div><div><br/></div><div><br/>
-=<br/>
① 在set /a中的二元运算符。例如set /a a-=b表示将a减去b的结果赋值给a。</div><div><br/></div><div><br/>
*=<br/>
① 在set /a中的二元运算符。例如set /a a*=b表示将a乘以b的结果赋值给a。</div><div><br/></div><div><br/>
/=<br/>
① 在set /a中的二元运算符。例如set /a a/=b表示将a除以b的结果赋值给a。</div><div><br/></div><div><br/>
%=<br/>
① 在set /a中的二元运算符。例如set /a a%=b表示将a除以b的余数赋值给a。<br/>
【注：命令行可以直接用 set /a a%=b ，在批处理里面可以用 set /a a%%=b 。】</div><div><br/></div><div><br/>
^=<br/>
① 在set /a中的二元运算符。例如set /a a&quot;^=&quot;b表示将a与b按位异的结果赋值给a。<br/>
【注：这里 &quot;^=&quot; 加引号是为了防止^被转义，下同。】</div><div><br/></div><div><br/>
&amp;=<br/>
① 在set /a中的二元运算符。例如set /a a&quot;&amp;=&quot;b表示将a与b按位与的结果赋值给a。</div><div><br/></div><div><br/>
|=<br/>
① 在set /a中的二元运算符。例如set /a a&quot;|=&quot;b表示将a与b按位或的结果赋值给a。</div><div><br/></div><div><br/>
&lt;&lt;=<br/>
① 在set /a中的二元运算符。例如set /a a&quot;&lt;&lt;=&quot;b表示将a按位左移b位的结果赋值给a。</div><div><br/></div><div><br/>
&gt;&gt;=</div><div>① 在set /a中的二元运算符。例如set /a a&quot;&gt;&gt;=&quot;b表示将a按位右移b位的结果赋值给a。</div><div><br/></div><div><br/>
\&lt;<br/>
① 在findstr的一般表达式中表示字的开始处。</div><div><br/></div><div><br/>
\&gt;<br/>
① 在findstr的一般表达式中表示字的结束处。<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 三、双符号对(两个符号之间须指定字符串)</div><div><br/></div><div><br/>
! !<br/>
① 当启用变量延迟时，使用!!将变量名扩起来表示对变量值的引用。</div><div><br/></div><div><br/>
&apos; &apos;<br/>
① 在for/f中表示将它们包含的内容当作命令行执行并分析其输出。<br/>
② 在for/f &quot;usebackq&quot;中表示将它们包含的字符串当作字符串分析。</div><div><br/></div><div><br/>
( )<br/>
① 命令包含或者是具有优先权的界定符，比如for命令要用到这个()，我们还可以在if，echo等命令中见到它的身影。<br/>
② 在set /a中表示表达式分组。</div><div><br/></div><div><br/>
&quot; &quot;<br/>
① 界定符，在表示带有空格的路径时常要用&quot;&quot;来将路径括起来，在一些命令里面也需要&quot; &quot;符号。<br/>
② 在for/f中将表示它们包含的内容当作字符串分析。<br/>
③ 在for/f &quot;usebackq&quot;表示它们包含的内容当作文件路径并分析其文件的内容。<br/>
④ 在其它情况下表示其中的内容是一个完整的字符串，其中的&gt;、&gt;&gt;、&lt;、&amp;、|、空格等不再转义。</div><div><br/></div><div><br/>
` `<br/>
① 在for/f中表示它们所包含的内容当作命令行执行并分析它的输出。</div><div><br/></div><div><br/>
% %<br/>
① 使用两个单独的%包含一个字符串表示引用以此串为名的环境变量。比如一个%time%可以扩展到当前的系统时间。</div><div><br/></div><div><br/>
[ ]<br/>
① 在帮助文档表示其中的开关、选项或参数是可选的。<br/>
② 在findstr /r中表示按其中指定的字符集匹配。</div></div>
