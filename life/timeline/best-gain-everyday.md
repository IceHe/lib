# Best Gain Everyday

è®°å½•æ¯å¤©æœ€å¤§çš„æ”¶è·

---

Started to record my best gain everyday from 2022/02/16.

ï¼ˆæ ‡é¢˜å¸¦ `*` è¡¨ç¤ºæ”¶è·ä¸€èˆ¬ï¼Œæ–œä½“å†…å®¹è¡¨ç¤ºä¸å¤ªé‡è¦ã€‚ï¼‰

# 2022 Feb

## 9. Window sessionStorage & localStorage

_MDN Web Docs:_

- [Web Storage API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API)
- [Using the Web Storage API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API)
- [Window.sessionStorage](https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage)
- [Window.localStorage](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage)

## *_11. ç²¾è‡´çš„æ¡Œæ¸¸ã€Šç°ä»£è‰ºæœ¯ã€‹_

_è·Ÿæœ‹å‹ç©è¿™ä¸ªæ¡Œæ¸¸ï¼Œè™½ç„¶è‡ªå·±æ²¡æœ‰æˆä¸ºå¤§èµ¢å®¶ï¼Œ_
_ä½†å‘ç°å®ƒçš„å¡ç‰Œè®¾è®¡å¾—éå¸¸ç²¾è‡´ã€å¾ˆæœ‰è‰ºæœ¯æ°”æ¯ã€‚_

## *_12. çƒ‚æ¸¸æˆã€Šé©¬é‡Œå¥¥æ´¾å¯¹ï¼šå…¨æ˜æ˜Ÿã€‹_

_è·Ÿæœ‹å‹ä¸€èµ·ç© Switch æ¸¸æˆã€Šé©¬é‡Œå¥¥æ´¾å¯¹ï¼šå…¨æ˜æ˜Ÿã€‹ï¼Œæ¸¸æˆä½“éªŒæå·®ï¼Œè®©æˆ‘ä»¬ç©å¾—éå¸¸â€œç”Ÿæ°”â€ï¼Œéƒ½è¢«å®ƒæ°”ç¬‘äº†ã€‚_
_å‘ç°å°±ç®—ç©çš„æ˜¯çƒ‚æ¸¸æˆï¼Œä½†æ˜¯è·Ÿæœ‹å‹ä¸€èµ·ç©ã€ä¸€èµ·åæ§½ï¼Œä¹Ÿèƒ½ä½“éªŒåˆ°åˆ«æ ·çš„æ¬¢ä¹ã€‚_

## 13. åˆ·é¢˜çš„æ„ä¹‰ï¼Ÿ

> [@åˆ˜æœªé¹pongba](https://weibo.com/pongba): [2021-4-1 10:19](https://weibo.com/1882579600/K8RlzAj5R)
>
> å¾ˆå¤šäººä¹‹æ‰€ä»¥å–œæ¬¢å¤§é‡çš„åˆ·é¢˜ï¼Œå°±æ˜¯å› ä¸ºæœ‰ä¸€ä¸ªâ€œåŸºç¡€ç‰¢é å¾ˆé‡è¦â€çš„æ€ç»´ã€‚
> è¿™è¯´æ³•å¥½åƒæ˜¯æŒºæµè¡Œçš„ã€‚æˆ‘å½“å¹´ä¸Šå­¦çš„æ—¶å€™è€å¸ˆå°±è¿™ä¹ˆè®²äº†ã€‚
> ä½†é—®é¢˜åœ¨äºï¼Œå…¶å®ç»å¤§å¤šæ•°äººå¯¹äºä»€ä¹ˆæ„æˆæ•°å­¦çš„åŸºç¡€ï¼Œæ˜¯æœ‰è¯¯è§£çš„ã€‚
> é¦–å…ˆï¼ŒåŠ å‡ä¹˜é™¤ç­‰å…·ä½“è¿ç®—å¹¶ä¸æ„æˆè§£æ–¹ç¨‹çš„åŸºç¡€ï¼Œ
> è§£æ–¹ç¨‹ä¹Ÿä¸æ„æˆå¹³é¢å‡ ä½•çš„åŸºç¡€ï¼Œå¹³é¢å‡ ä½•ä¹Ÿä¸æ˜¯ç»„åˆæ•°å­¦çš„åŸºç¡€ï¼Œ
> éšç€æ•°å­¦è¶Šå¾€ä¸Šå­¦ï¼Œä½ ä¼šå‘ç°ï¼Œä½ é¢å¯¹çš„å¯¹è±¡è¶Šæ˜¯å¯Œå«æŠ½è±¡å’Œé€»è¾‘ï¼Œå› æ­¤æŠ½è±¡å’Œé€»è¾‘æ‰æ˜¯åŸºç¡€ã€‚
>
> å¦‚æœä¸æ˜ç™½è¿™ä¸ªé“ç†ï¼Œè€Œ*ä»…ä»…*åªæ³¨é‡åˆ·é¢˜å’Œåˆ·è§£é¢˜æŠ€å·§ï¼Œ
> å°±ä¼šå‡ºç°ä¸€ä¸ªé˜¶æ®µåˆ·çˆ†äº†ç„¶è€Œæ•°å­¦çš„ç”»é£ä¸€è¾¹ï¼Œçªç„¶å­©å­å°±æ‰é˜Ÿäº†ï¼Œ
> æ¯”å¦‚ä»å°å­¦ä½å¹´çº§åˆ°å°å­¦é«˜å¹´çº§ï¼Œä¼šæœ‰ä¸€ä¸ªä»å…·ä½“çš„æ•°å­—è¿›å…¥åˆçº§çš„æŠ½è±¡ï¼ˆæœªçŸ¥æ•°ï¼‰çš„é˜¶æ®µã€‚
> äºæ˜¯ç»§ç»­åˆ·æ–°çš„é¢†åŸŸçš„é¢˜ï¼Œç„¶ååˆ°äº†ä¸‹ä¸€ä¸ªé˜¶æ®µï¼Œåˆæ‰é˜Ÿäº†ï¼Œ
> æ¯”å¦‚åˆ°äº†åˆä¸­å¼€å§‹è¦å‡ ä½•è¯æ˜ï¼Œå°±å¾ˆå¼ºè°ƒä¸¥å¯†çš„é€»è¾‘æ¨ç†ï¼Œå½’çº³ï¼Œç±»æ¨ç­‰æ€ç»´ã€‚
> äºæ˜¯ç»§ç»­ç”¨è€æ‹›æ•°ï¼Œåˆ·åˆ·åˆ·ã€‚ç„¶ååˆ°äº†é«˜ä¸­ï¼Œåˆæ˜¯ä¸€é“åã€‚æ¯ä¸€é“åéƒ½æœ‰åˆ·ä¸åŠ¨çš„å­©å­æ‰é˜Ÿã€‚
>
> æ ¹æœ¬åŸå› æ˜¯ï¼Œæ•°å­¦çš„â€œçŸ¥è¯†ç‚¹â€å¹¶ä¸æ˜¯æ•°å­¦çš„åŸºç¡€ï¼Œè§£é¢˜æŠ€å·§ï¼ˆæ–¹æ³•ï¼‰ä¹Ÿä¸æ˜¯æ•°å­¦çš„åŸºç¡€ï¼Œ
> æ•°å­¦çš„åŸºç¡€è•´å«åœ¨æ•°å­¦æ€ç»´ï¼Œå³å¦‚ä½•è¯æ˜æ•°å­¦ä¸­çš„æ³•åˆ™å’Œå®šç†çš„è¿‡ç¨‹ä¸­ã€‚
>
> æ›´è¿›ä¸€æ­¥ï¼Œè¿˜æœ‰æ¯”è¿™æ›´åŸºç¡€çš„ï¼Œå°±æ˜¯ä¸ºä»€ä¹ˆæ•°å­¦å®¶èƒ½å¤Ÿæƒ³å‡ºé‚£ä¹ˆæˆ–ä¼˜é›…ï¼Œæˆ–ç»å¦™çš„è¯æ˜ï¼Œ
> è¿™ä¸ªåˆ™è¶…å‡ºäº†æ•°å­¦æœ¬èº«ï¼Œè€Œæ˜¯å…ƒè®¤çŸ¥å±‚é¢çš„
> ï¼ˆè§ã€ŠHow to Solve Itã€‹å’Œã€ŠPsychology of Problem Solvingã€‹ï¼‰ï¼Œ
> ä¸¾ä¸ªä¾‹å­æœ‰ä¸€æ¬¡æˆ‘ç»™å¨ƒåšä¸€é“å¯¹å¥¹çš„å¹´çº§æ¥è¯´ç®—æ˜¯æ€è€ƒé¢˜çš„ä¸€ä¸ªå‡ ä½•é¢˜ï¼Œ
> è¿™ä¸ªé¢˜éœ€è¦å¯¹é—®é¢˜çš„æ¡ä»¶è¿›è¡Œä»”ç»†è§‚å¯Ÿä½“ä¼šå¹¶æ‰¾åˆ°ä¸€ä¸ªå…³é”®çš„çªç ´ç‚¹ï¼Œ
> ä¸€æ—¦å¾—å‡ºäº†é‚£ä¸ªå…³é”®çš„è§‚å¯Ÿï¼Œé‚£é—®é¢˜å°±ä¼šè¿åˆƒè€Œè§£ï¼Œ
> è¿™ç±»é—®é¢˜æœ€æ˜¯ç£¨äººçš„å°å¦–ç²¾ï¼Œå› ä¸ºä½ æ‰¾ä¸åˆ°é‚£ä¸ªæ´å¯Ÿï¼Œé‚£ä½ å¯ä»¥è¯´æ˜¯ç»æœ›ï¼Œä¸€ç‚¹è¿›å±•éƒ½æ‰“ä¸å¼€ï¼Œ
> äººç±»åœ¨è¿™ç§æƒ…å†µä¸‹æœ€å®¹æ˜“æ”¾å¼ƒï¼Œå› ä¸ºå®Œå…¨æ— æ³•é¢„ä¼°è¿›åº¦å’Œæ—¶é—´æ¶ˆè€—ã€‚
> å¨ƒä¸å‡ºæ‰€æ–™çš„è¿…é€Ÿé™·å…¥äº†æ²®ä¸§å’Œæ”¾å¼ƒï¼Œç»™èººåœ°ä¸Šå»äº†ã€‚
> æˆ‘æƒ³äº†æƒ³ç®—äº†ï¼Œè¿™æ¬¡å…ˆä¸ç¡¬æ æ„å¿—å§ï¼Œäºæ˜¯æˆ‘ç»™åˆ—äº†ä¸€å¼ çº¸çš„å¯å‘å¼æ€è€ƒç­–ç•¥ï¼Œå’Œæ•°å­¦æ²¡å•¥ç‰¹å®šçš„å…³ç³»ï¼Œ
> å°±æ˜¯ä¸€äº›å¸®åŠ©ä»å¡ä½çš„çŠ¶æ€ä¸­è„±å‡ºæ¥çš„ç­–ç•¥ï¼ˆå¤§å¤šåœ¨ã€ŠHow to Solve Itã€‹é‡Œæœ‰ï¼‰ï¼Œä¾‹å¦‚ï¼š
>
> - é—®é¢˜çš„æ¡ä»¶æœ‰å“ªäº›ï¼Œä»æ¡ä»¶å¯ä»¥å¾—åˆ°å“ªäº›ç»“è®º
> - éœ€è¦æ±‚è§£çš„æ˜¯ä»€ä¹ˆï¼Œæƒ³è¦åˆ°è¾¾è§£ï¼Œéœ€è¦ä»€ä¹ˆæˆç«‹
> - èƒ½å¦é€šè¿‡å¢åŠ ã€å‡å°‘ã€æ”¹å˜é—®é¢˜çš„æ¡ä»¶æ±‚è§£ä¸€ä¸ªç±»ä¼¼çš„é—®é¢˜ä»è€Œè·å¾—æŸç§å¯å‘
> - èƒ½å¦é€šè¿‡æŠŠé—®é¢˜ä¸­æŠ½è±¡çš„éƒ¨åˆ†å˜æˆå…·ä½“çš„æ¥æ±‚è§£ä¸€ä¸ªå…·ä½“çš„é—®é¢˜
> - èƒ½å¦é€šè¿‡æŠŠå…·ä½“çš„é—®é¢˜æŠ½è±¡æˆä¸€ä¸ªä¸€èˆ¬æ€§çš„é—®é¢˜æ¥æ±‚è§£
> - ç­‰ç­‰ç­‰ç­‰
>
> è¿™äº›ç­–ç•¥å’Œå¥¹çš„ç‰¹å®šé—®é¢˜ï¼Œç”šè‡³å’Œæ•°å­¦éƒ½ä¸ä¸€å®šç›¸å…³ï¼Œ
> ä½†æ˜¯æœ‰äº†è¿™äº›ç­–ç•¥ä½œä¸ºæ‹æ–ï¼Œå¥¹æœ€ç»ˆæŠŠé‚£ä¸ªé—®é¢˜æƒ³å‡ºæ¥äº†ã€‚
> è¿™äº›å…ƒè®¤çŸ¥ç­–ç•¥çš„ä½œç”¨æ˜¯å¸®åŠ©äººåœ¨æ€ç»´ç»å¢ƒå½“ä¸­é€ƒå‡ºç”Ÿå¤©ã€‚
> ä¹Ÿæ˜¯æ¯”è¯æ˜ï¼ˆä¸ºä»€ä¹ˆï¼‰è¿˜è¦æ›´åŸºç¡€å±‚é¢çš„å†…å®¹ã€‚
>
> è¿˜æœ‰æ¯”è¿™æ›´åŸºç¡€çš„â€”â€”æ€åº¦ã€‚
> è®°å¿†->ç»ƒä¹ /ç†Ÿç»ƒ->æå–->è¿ç”¨å‹çš„å­¦ç§‘å’Œæ•™å­¦ï¼Œ
> å¸¦æ¥çš„ä¸€ä¸ªæ½œå°è¯å°±æ˜¯ï¼Œä½ çš„æ—¶é—´/åŠªåŠ›å’Œä½ çš„æˆæœ/å¥–åŠ±æ˜¯çº¿æ€§çš„ï¼Œä½ å¯ä»¥åŸºæœ¬é¢„æœŸåˆ°ä½ æŠ•å…¥å¤šå°‘ä¼šå¸¦æ¥å¤šå°‘äº§å‡ºï¼Œ
> è¿™æœ¬èº«ä¸æ˜¯ä»€ä¹ˆåäº‹ï¼Œæ‰€è°“ä¸€åˆ†è€•è€˜ä¸€åˆ†æ”¶è·ï¼Œä½†é—®é¢˜æ˜¯ï¼Œä¸æ˜¯æ‰€æœ‰çš„å­¦ç§‘éƒ½æ˜¯ç§ç”°å¼çš„ï¼Œ
> å°¤å…¶æ˜¯ï¼Œå½“æˆ‘ä»¬ä»¥åè¿›å…¥èŒåœºå’Œç¤¾ä¼šå»è§£å†³é—®é¢˜ï¼Œåˆ›é€ æ€§å·¥ä½œéœ€è¦å¼€æ”¾å¼é—®é¢˜çš„è§£å†³èƒ½åŠ›ï¼Œ
> æ‰€è°“å¼€æ”¾å¼é—®é¢˜å°±æ˜¯ä½ çš„æ—¶é—´/åŠªåŠ›å’Œæˆæœ/å¥–åŠ±æ˜¯éçº¿æ€§çš„ï¼Œ
> ä¾‹å¦‚å¯èƒ½æ–¹å‘å¯¹äº†å››ä¸¤æ‹¨åƒæ–¤ï¼Œå°‘é‡æŠ•å…¥å¸¦æ¥å·¨å¤§çš„æˆæœï¼›
> åè¿‡æ¥ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€å¼€å§‹æ—¶é—´æŠ•å…¥å¸¦æ¥çš„è¿›å±•ä¸é”™ï¼Œä½†è¶Šåˆ°åæ¥è¿›å±•è¶Šå›°éš¾ç¼“æ…¢ï¼›
> è¿˜æœ‰å¯èƒ½æ˜¯ç›¸å½“é•¿ä¸€æ®µæ—¶é—´å¡æ­»åœ¨ä¸€ä¸ªçœ‹ä¼¼æ¯«æ— è¿›å±•çš„æƒ…å†µä¸­ï¼Œ
> åœ¨è‹¦è‹¦æ±‚ç´¢ä¹‹åçš„æŸä¸€ç‚¹çµå…‰ä¹ç°ï¼ŒæŸ³æš—èŠ±æ˜ï¼Œäºæ˜¯å¥–åŠ±æ›²çº¿ç›´æ¥90åº¦å‘ä¸Šï¼›
> è¿˜æœ‰å¯èƒ½æ˜¯æœ‰æ—¶å€™è§‰å¾—æœ‰æ‰€çªç ´ï¼Œè€Œååˆå‘ç°æ˜¯å‡çªç ´ï¼Œååå¤å¤èºæ—‹ä¸Šå‡ã€‚
> å¦‚æœæ ¹æ®æ¯ç§æƒ…å†µç”»å‡ºå¯¹åº”çš„æ›²çº¿ï¼Œå¤§æ¦‚å¦‚é™„å›¾æ‰€ç¤ºï¼š
>
> æ•°å­¦æä¾›çš„å°±æ˜¯é¢å¯¹åé¢4ç§ç±»å‹çš„æ”¶ç›Šæ›²çº¿é”»ç‚¼ä½ å¿ƒæ€ä¼šä¸ä¼šå´©ã€‚
> å°¤å…¶æ˜¯æœ€åä¸¤ç§ï¼Œåœ¨æŸä¸€ç±»é—®é¢˜ä¸­å¾ˆå…¸å‹ã€‚
> å¦‚æœå¿ƒæ€æ…¢æ…¢é€‚åº”è¿™äº›å˜åŒ–å¤šç«¯çš„æ”¶ç›Šæ›²çº¿ï¼Œ
> å°±æ„å‘³ç€ä½ é¢å¯¹å„ç§å¤šå˜çš„é—®é¢˜å’Œä»»åŠ¡è‡ªç„¶å°±å…·å¤‡äº†ä¸å®¹æ˜“æ”¾å¼ƒçš„å¿ƒæ€å’Œé€‚åº”èƒ½åŠ›ï¼Œ
> è¿™æ˜¯å…¶ä»–å­¦ç§‘å¾ˆéš¾æä¾›çš„è¶Šé‡æˆ˜æœºä¼šï¼Œä¹Ÿæ˜¯æ•°å­¦çš„ç‹¬ç‰¹é­…åŠ›æ‰€åœ¨ã€‚
>
> æ‰€ä»¥è¯´ï¼Œä»â€œçŸ¥è¯†ç‚¹â€ï¼Œåˆ°â€œæŠ€å·§â€ï¼Œåˆ°â€œåŸç†â€ï¼Œå†åˆ°â€œæ€ç»´â€ï¼Œæœ€ååˆ°â€œæ€åº¦â€ï¼Œæ‰æ˜¯ä¸€è·¯æ·±å…¥çš„åŸºç¡€ä¸­çš„åŸºç¡€ã€‚
> å¤šæ•°äººåå¤åˆ·çš„â€œåŸºç¡€â€å…¶å®åªåœ¨å‰ä¸¤æ¡ï¼ŒçŸ¥è¯†ç‚¹å’ŒæŠ€å·§ï¼Œ
> è¿™ä¸¤ç§â€œåŸºç¡€â€æ˜¯å®¹æ˜“éšç€å­¦ä¹ çš„æ·±å…¥å’Œéš¾åº¦çš„åŠ å¤§åå¤å‡ºç°å´©å¡Œçš„å±€é¢çš„ã€‚
> ä¾‹å¦‚åˆä¸­äºŒå…ƒä¸€æ¬¡æ–¹ç¨‹çš„æ ¹å…¬å¼æ˜¯ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œè€Œå› å¼åˆ†è§£æ˜¯ä¸€ä¸ªæŠ€å·§ï¼Œé…æ–¹åˆ™æ˜¯ä¸€ä¸ªåŸç†ï¼Œ
> å¦‚ä½•æ¨ç†å‡ºé…æ–¹è¿™ç§æ–¹æ³•çš„è¿‡ç¨‹åˆ™æ˜¯æ€ç»´ï¼Œ
> è‡³äºæ€åº¦ï¼Œè¿™ä¸ªå¯ä»¥è¯»è¯»æ•°å­¦å®¶ä»¬æ˜¯æ€ä¹ˆå’Œé—®é¢˜åŒåƒåŒç¡å‡ ä¸ªæœˆå†¥æ€è‹¦æƒ³çš„æ•…äº‹çš„[doge]
>
> å¦‚æœçœŸæ­£çš„åŸºç¡€æ‰“ç‰¢ï¼Œå…¶å®å­¦ä¹ æ˜¯äº‹åŠåŠŸå€çš„ï¼Œ
> å› ä¸ºåº•å±‚ç›¸é€šï¼Œä½ å°±ç®—å¿˜äº†ä¸Šå±‚çš„çŸ¥è¯†ç‚¹ï¼ŒæŠ€å·§ï¼Œç”šè‡³åŸç†ï¼Œä½ æ˜¯ä»ç„¶å¯ä»¥è‡ªå·±é‡æ–°æ¨å¯¼å‡ºæ¥çš„ã€‚
> è¯´åˆ°è¿™é‡Œï¼Œæœ€åé™„èµ æ•°å­¦å®¶è½¶äº‹ä¸€åˆ™ï¼š
>
> ä¸€æ¬¡åœ¨å¸Œå°”ä¼¯ç‰¹çš„è®¨è®ºç­ä¸Šï¼Œä¸€ä¸ªå¹´è½»äººåœ¨æŠ¥å‘Šä¸­ç”¨äº†ä¸€ä¸ªå¾ˆæ¼‚äº®çš„å®šç†ï¼Œ
> å¸Œå°”ä¼¯ç‰¹è¯´ï¼šâ€œè¿™å¯çœŸæ˜¯ä¸€ä¸ªå¦™ä¸å¯è¨€ï¼ˆwunderbaschonï¼‰çš„å®šç†å‘€ , æ˜¯è°å‘ç°çš„ï¼Ÿâ€
> é‚£ä¸ªå¹´è½»äººèŒ«ç„¶åœ°ç«™äº†å¾ˆä¹…ï¼Œå¯¹å¸Œå°”ä¼¯ç‰¹è¯´ï¼šâ€œæ˜¯æ‚¨â€¦â€¦â€ã€‚
> ï¼ˆå¼•ç”¨è‡ªï¼šhttps://www.global-sci.org/v1/mc/issues/1/no2/pdf/86.pdf?1597110101

![time-cost-benefit-curve.jpeg](./_image/time-cost-benefit-curve.jpeg)

ä»…ä»…é è›®åŠ›å»åšäº‹æ˜¯ä¸è¡Œçš„ï¼Œæ— è®ºæ˜¯å·¥ä½œã€å­¦ä¹ ã€æ¸¸æˆï¼Œè¿˜æ˜¯æ—¥å¸¸ç”Ÿæ´»ã€‚
ä¹‹å‰åšäº†å¤ªå¤šæ— å…³ç´§è¦çš„çŸ¥è¯†ç‚¹ç§¯ç´¯ï¼Œåªä¸è¿‡å› ä¸ºé‚£æ ·åšæœ‰â€œä¸€åˆ†è€•è€˜ï¼Œä¸€ä»½æ”¶è·â€çš„æŒç»­è·å¾—æ„Ÿç½¢äº†â€¦â€¦

## 14. JS property getter/setter

[feat(browser): signIn by IceHe Â· Pull Request #170 Â· logto-io/js](https://github.com/logto-io/js/pull/170)

- How to write the property getter/setter in JavaScript/TypeScript

- How to mock crypto in jest?

    ```ts
    // jest.setup.js
    const crypto = require('crypto');

    global.crypto = {
        getRandomValues: (buffer) => crypto.randomFillSync(buffer),
        subtle: crypto.webcrypto.subtle,
    };
    ```

- Use `URLSearchParams` to

    - parse parameters from query string

        ```ts
        const [, queryString = ''] = uri.split('?');
        const urlSearchParams = new URLSearchParams(queryString);
        ```

    - construct query string

        ```ts
        const urlSearchParameters = new URLSearchParams({
          foo: 'bar',
          ice: 'he',
        });

        for (const item of items ?? []) {
          urlSearchParameters.append('item', item);
        }

        const urlWithQueryString = `${url}?${urlSearchParameters.toString()}`;
        ```

- Use `URL` to join URL safely with `baseUrl` and `path`

    ```ts
    // e.g.
    const baseUrl = 'https://icehe.xyz/';
    const path = '/foo/bar';
    const url = new URL(path, baseUrl);
    // url.toString() === 'https://icehe.xyz/foo/bar'
    ```

## 15. Differ `aseert` from `create` in `superstruct`

[feat(browser): sign-in session storage by IceHe Â· Pull Request #175 Â· logto-io/js](https://github.com/logto-io/js/pull/175)

-   Differences between `assert` and `create` from `superstruct` package

    - [assert](https://docs.superstructjs.org/api-reference/core#assert): just validate
    - [create](https://docs.superstructjs.org/api-reference/core#create): validate, fill with default values and etc.
        - with [coercions](https://docs.superstructjs.org/api-reference/coercions): defaulted and trimmed

-   When to retrieve properties from `window.sessionStorage` or `window.localStorage` in the browser

    - Consistent data in `LocalStorage` should be retrieved and store in the object when constructing (in `constructor`).
    - Temporary data in `SessionStorage` are recommended to be retrieved when needed.

-   Browser session life cycle?

    -   [Window.sessionStorage - MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage)

        > A page session lasts as long as the tab or the browser is open, and survives over page reloads and restores.

    -   How to test sessionStorage life cycle?

        1.  Chrome â†’ ( View â†’ ) Developer â†’ JavaScript Console
        2.  Store session item: Under a.com site, run `window.sessionStorage.setItem('foo', 'bar');`
            - _Check session item: Developer Tools â†’ Application â†’ View the session storage of a.com_
        3.  Redirect to another site: Under a.com site, run `window.location = 'b.com';`
            - _Check session item: as above_
        4. A. Come back to original site: Under b.com site, run `window.location = 'a.com';`
            - B. close the tab, and then restore it
            - C. close the tab, and then open another tab with a.com
        5. Check session item, and find `foo: bar` exists

-   How to access and test the protected properties and methods of a class?

    -   Extends the class, and re-encapsulate the protected properties and methods in the public methods

## 18. Declaration files `*.d.ts`

- [*.d.ts](/js/code-snippet/d.ts.md): declaration files that functions as an interface to the components compiled in JavaScript
- [debugger](/js/code-snippet/debugger.md) statement invokes any available debugging functionality, such as setting a breakpoint

## 19. Pause code with breakpoints - Chrome DevTools

Chrome DevTools - [Pause code with breakpoints](/js/code-snippet/debugger.md#Pause-code-with-breakpoints)

- DOM change, **XHR/Fetch**, event listener, **exception** and function `debug(functionName)`

## *_20. è¯»ã€Šè´ªå©ªçš„å¤šå·´èƒºã€‹_

_ã€Š[è´ªå©ªçš„å¤šå·´èƒº](https://book.douban.com/subject/35545272/)ã€‹_

- _[æˆ‘çš„å¾®åšä¹¦æ‘˜ 2022-02-21 13:00](https://weibo.com/2181657940/LgkPF3HJI)_
- _[æˆ‘çš„å¾®åšä¹¦æ‘˜ 2022-02-21 18:32](https://weibo.com/2181657940/Lgn0t5tag)_
- _[æˆ‘çš„å¾®åšä¹¦æ‘˜ 2022-02-21 21:45](https://weibo.com/2181657940/LgogZyFqL)_

## 21. Should `return` early

**[Why should you return early?](https://szymonkrajewski.pl/why-should-you-return-early/)**

- [æˆ‘çš„å¾®åšç¬”è®°åˆ†äº« 2022-02-21 14:49](https://weibo.com/2181657940/LguYrEtdF)

> \# Follow the "happy path"
>
> â€¦â€¦
> Happy, because this is the expected positive result and this is the reason why we call this function.
>
> ![return-early-happy-path.jpeg](_image/return-early-happy-path.jpeg)
>
> Return early is the way of writing functions or methods so that the **expected positive result is returned at the end of the function** and **the rest of the code terminates the execution when conditions are not met**.
>
> \# Get rid of bad cases early
>
> We **should terminate the execution or simply return from function earlier**.
> â€¦â€¦
>
> \# The Bouncer Pattern
>
> **Itâ€™s also known as â€œAssertionsâ€ or even  â€œGuard clausesâ€.**
> All mean the same and they prevent code execution in case of the invalid state.
> â€¦â€¦

## *_22. é€šå…³ã€ŠAIæ¢¦å¢ƒæ¡£æ¡ˆã€‹_

- _é€šå…³ã€Š[AIæ¢¦å¢ƒæ¡£æ¡ˆ](https://www.douban.com/game/30265812/)ã€‹_
- _è¯»å®Œã€Š[è´ªå©ªçš„å¤šå·´èƒº](https://book.douban.com/subject/35545272/)ã€‹_
    - _[æˆ‘çš„å¾®åšä¹¦æ‘˜ 2022-02-22 20:12](https://weibo.com/2181657940/LgGwfl3YT)_
- Upgrade @silverhand/eslint-config
    - github.com/silverhand-io/configs
        - [fix(eslint-config): fix rule member-ordering via updating dependencies #18](https://github.com/silverhand-io/configs/pull/18)
        - [fix: bump typescript eslint plugins and disable unnecessary rules #19](https://github.com/silverhand-io/configs/pull/19)
        - [fix(eslint-config): update pnpm-lock.yaml #20](https://github.com/silverhand-io/configs/pull/20)
    - github.com/logto-io/js
        - [chore: bump eslint-config to 0.9.1 #196](https://github.com/logto-io/js/pull/196)

## *_23. ä¸è¦ç†¬å¤œ_

_å…¶å®ç°åœ¨çš„æƒ…å†µè·Ÿä¹‹å‰å·®ä¸å¤šï¼Œå½“ä¸‹è¯¥åšä»€ä¹ˆå…¶å®è¿˜æ˜¯æŒºæ˜ç¡®çš„ï¼Œæ²¡ä»€ä¹ˆéœ€è¦è¿·æƒ˜ã€‚_
_ä½†æ˜¯ç†¬å¤œç©æ¸¸æˆæ…ä¹±èº«å¿ƒçŠ¶æ€ä¹‹åï¼Œæ„Ÿè§‰ä¸å¤ªå¥½ï¼Œå¹²å•¥éƒ½ä¸å¾—åŠ²ã€‚_
ä»æ¥éƒ½çŸ¥é“ç†¬å¤œä¸å¯¹ï¼Œä¼šæå¤§åœ°å½±å“ç¬¬äºŒå¤©ï¼ˆç”šè‡³æ¥ä¸‹æ¥å‡ å¤©ï¼‰çš„èº«å¿ƒçŠ¶æ€ã€‚
ä½†æ˜¯è¿˜æ˜¯ç»å¸¸è¢«å¤šå·´èƒºè¯±æƒ‘ï¼Œä¸æ–­åœ°æƒ³è¦æ„Ÿå—ã€äº«å— â€œæ›´å¤šâ€ï¼Œç›´åˆ°å®åœ¨ä¸èƒ½å†ç»§ç»­æ‰ä¼šåœä¸‹æ¥â€¦â€¦
_ï¼ˆè™½è¯´ç†æ€§çš„ç­–ç•¥æ˜¯â€œæ—¢å¾€ä¸å’ï¼Œçºµæƒ…å‘å‰â€ï¼Œæ¥ä¸‹æ¥é‡æ–°åšå¥½å°±è¡Œï¼Œä½†æ˜¯åšé”™çš„æ—¶å€™è¿˜æ˜¯ä¼šå¯¹è‡ªå·±æ„Ÿåˆ°å¤±æœ›ã€‚ï¼‰_

å­¦ç”Ÿæ—¶ä»£æ€»è§‰å¾—è‡ªå·±æ‰§è¡ŒåŠ›å¾ˆå·®ï¼Œæ²¡æœ‰æ¯…åŠ›ï¼Œä¸å¤Ÿèªæ˜â€¦â€¦
åˆ«è¯´ä»¥ä¸Šè¿™äº›é—®é¢˜äº†ï¼Œå…¶å®è¿˜æœ‰æ›´æ ¹æœ¬çš„é—®é¢˜ï¼Œå°±æ˜¯å¹³æ—¶è‡ªå·±è¿æœ€åŸºæœ¬çš„å……åˆ†ä¼‘æ¯éƒ½åšä¸åˆ°ï¼

ä»ç†æ€§çš„è§’åº¦åˆ†æï¼Œè§‰å¾—è‡ªå·±ç†¬å¤œå»åšå„ç§äº‹å°±åƒæ˜¯â€œè¿˜æ²¡å­¦ä¼šèµ°ï¼Œå°±è¿«ä¸åŠå¾…æƒ³è¦è·‘èµ·æ¥â€ã€‚
**è¿˜æ²¡æœ‰å…»æˆä¿è¯è‡ªå·±å……åˆ†ä¼‘æ¯ï¼ˆç¡çœ ï¼‰çš„ä¹ æƒ¯ï¼Œå°±å¼€å§‹è´ªå¿ƒã€æ€¥è¿«åœ°æƒ³è¦åšåˆ°æ›´å¤šåˆ«çš„äº‹æƒ…ï¼ŒçœŸæ˜¯æ„šè ¢â€¦â€¦**
ä¸èƒ½ä¿è¯å¤´è„‘å°½å¯èƒ½å¤„äºæœ€ä½³çŠ¶æ€ï¼Œæ‰è®ºåšåˆ«çš„äº‹èƒ½åšå¾—æ›´å¤šæ›´å¥½ã€‚
ï¼ˆæ‰€ä»¥è§‰å¾—è‡ªå·±å­¦ç”Ÿæ—¶ä»£çš„è„‘è¢‹çœŸæ˜¯ä¸€æ¡¶æµ†ç³Šï¼Œå³ä½¿åˆ°äº†ç°åœ¨è‡ªå·±å·²ç»å·¥ä½œ6å¹´å¤šäº†ï¼Œè¿˜æ˜¯åœ¨ä½æ•ˆç‡åœ°ç”Ÿæ´»ï¼Œæ— è®ºåšçš„æ˜¯æ­£äº‹è¿˜æ˜¯å¨±ä¹ã€‚ï¼‰

## *_24. äº†è§£è‡ªå·± & é€šè¿‡è§£å†³å®é™…é—®é¢˜æ¥å¿«é€Ÿè¿›æ­¥_

_æœ‰äº›åœ°æ–¹æ´»å¾—å¤ªé©¬è™äº†ï¼Œä¸€ç‚¹éƒ½ä¸äº†è§£è‡ªå·±â€¦â€¦_

_æœ‰é˜…è¯»éšœç¢ï¼Œæ‰“å‰§æœ¬æ€æœ€åˆçš„è¯»æœ¬è¯»å¾—æ…¢ï¼Œè€Œä¸”è¦å¸¦ç€è€³æœºï¼Œä¸ç„¶åˆ«äººä¸€è¯´è¯æ³¨æ„åŠ›å’Œæ€è·¯å°±è¢«åˆ«äººå¸¦èµ°äº†ã€‚_
_è¿‡ç¨‹ä¸­åˆ†æçš„æ—¶å€™ä¹Ÿæ˜¯ï¼Œå¾ˆéš¾ä¸€è¾¹å¬ç€åˆ«äººåˆ†æï¼Œç„¶åä¸€è¾¹è‡ªå·±çœ‹ç€åˆ«çš„çº¿ç´¢åŒæ—¶è¿›è¡Œåˆ«çš„åˆ†ææ¢ç´¢ã€‚_

_æ˜æ˜è‡ªå·±æ˜¯ä¸ªä¸èªæ˜è¿˜å®¹æ˜“åˆ†ç¥çš„äººï¼Œéœ€è¦ä¸“æ³¨åšäº‹ï¼Œå¾ˆåæ¥æ‰äº†è§£è‡ªå·±ã€‚_
_ç„¶è€Œå­¦ç”Ÿæ—¶ä»£è¿˜æ˜¯å¾ˆå–œæ¬¢ä¸€è¾¹å¬æ­Œã€å”±æ­Œä¸€è¾¹åšä½œä¸šâ€¦â€¦_
_ç°åœ¨å¹²ç‚¹ä»€ä¹ˆæ­£äº‹ï¼Œä¸ä½†å¾ˆå°‘å¼€éŸ³ä¹ï¼Œè¿˜æˆ´ä¸Šé™å™ªè€³æœºã€‚_

_è¿˜æœ‰å­¦ç”Ÿæ—¶ä»£ä¸Šä½“è‚²è¯¾ï¼Œé é£å¹²ã€ç„å¹²è‡ªå·±çš„è¡£æœï¼Œå®¹æ˜“æ„Ÿå†’ï¼Œ_
_æ˜æ˜å·²ç»æ„Ÿå†’å¾ˆå¤šæ¬¡äº†ï¼Œé¼»ç‚éš¾å—æäº†ï¼Œä¸Šä½“è‚²è¯¾çš„æ—¥å­è¿˜æ˜¯ä¸æ‡‚å¾—å¸¦å¤‡ç”¨è¡£æœï¼Œä¸ä¼šæ³¨æ„èº«ä½“ã€‚_

---

_è‡ªå·±ä¸çˆ±å»ä¸»åŠ¨ï¼ˆæˆ–è¢«åŠ¨ï¼‰åœ°è§£å†³ç°å®ä¸­çš„ï¼ˆæ­£å¸¸æˆ–ä¸å¾—ä¸é¢å¯¹çš„å·¥ä½œã€å­¦ä¸šæˆ–ç”Ÿæ´»ä¸Šçš„ï¼‰é—®é¢˜ï¼Œ_
_è¿›æ­¥å°±éå¸¸æ…¢â€¦â€¦ï¼ˆè®°å¾—è¿™ç§è¶‹åŠ¿ä»å­¦ç”Ÿæ—¶ä»£çš„åˆä¸€ä¸‹å­¦æœŸå°±å¼€å§‹æš´éœ²äº†â€¦â€¦ï¼‰_

å…¶å®è‡ªå·±æ˜ç™½â€œæŠ„ä¹¦å¼â€å­¦ä¹ çš„æ•ˆç‡å¾ˆä½ï¼Œ
ä¸å¦‚ç›´æ¥æ‰¾ä¸€ä¸ªé—®é¢˜å»è§£å†³ï¼Œæ‰¾ä¸€ä¸ªè¦åšçš„äº‹ç„¶åå»å®ç°ï¼Œ
é€šè¿‡å®è·µæ¥å­¦ä¹ ï¼ˆç‰¹åˆ«æ˜¯æ–°æ‰‹æœŸï¼‰æ•ˆç‡å¾ˆé«˜ã€‚

ä¸ºä»€ä¹ˆè‡ªå·±é‚£ä¹ˆè ¢è¦åšâ€œæŠ„ä¹¦å¼â€çš„å­¦ä¹ å‘¢ï¼Ÿ
å› ä¸ºå¶å°”å­¦ç‚¹æ–°çŸ¥è¯†ä¸»è¦æ˜¯ä¸ºäº†â€œç¼“è§£ç„¦è™‘â€ã€‚
â€œçŸ¥è¯†ç‚¹â€ä¸Šçš„ç§¯ç´¯ï¼Œæ•ˆç‡å’Œè´¨é‡éƒ½ä¸é«˜ï¼Œä½†æ˜¯æœ‰ç§¯ç´¯æ„Ÿ â€”â€”
éšæ—¶éšåœ°èŠ±ä¸€ç‚¹æ—¶é—´å°±èƒ½å¤Ÿæ˜ç¡®æ„Ÿå—åˆ°è‡ªå·±åˆå¤šçŸ¥é“äº†ä¸€ç‚¹ç‚¹æ–°ä¸œè¥¿ã€‚

_è‡ªå·±æ˜¯ä¸ªä¿—äººï¼Œæ²¡æœ‰å¤šé«˜çš„è¿½æ±‚ï¼Œç„¶åé‡‡ç”¨â€œæŠ„ä¹¦å¼â€å­¦ä¹ çš„æ–¹å¼æ¥ç¼“è§£ç„¦è™‘çš„åšæ³•å°±å¥½åƒæŒºè‡ªç„¶çš„ï¼Ÿ_

## 25. Build `*.ts` excluding test files

[refactor(js): convert jest.config.js to jest.config.ts by IceHe Â· Pull Request #203 Â· logto-io/js](https://github.com/logto-io/js/pull/203)

-   **`tsc` compiles `*.ts` excluding the test files**. e.g.
    ```json
    // package.json
    {
        "scripts": {
            "build": "tsc -p tsconfig.build.json",
            â€¦â€¦
        },
        â€¦â€¦
    }
    ```
    ```json
    {
        "extends": "./tsconfig",
        "include": [
            "src"
        ],
        "exclude": [
            "**/*.test.ts",
        ]
    }
    ```
-   Use `jest.config.ts` instead of `jest.config.js`.

## *_26. æœ‰è¶£çš„æ¡Œæ¸¸ã€Šæˆªç ç«™ã€‹& æ„Ÿå—éŸ³ä¹é…’å§ Tokyo Lounge_

æœ‰è¶£çš„æ¡Œæ¸¸ã€Šæˆªç ç«™ã€‹

- åè®°ï¼šå¯æƒœç¬¬äºŒå¤©ï¼ˆ27å·ï¼‰å°±ç©è…»äº†ã€‚

å» Tokyo Lounge ä¸œäº¬é…’å»Šï¼Œä½“éªŒä¸€ä¸‹éŸ³ä¹é…’å§ã€‚

- è™½ç„¶æ°›å›´æ„Ÿè§‰è¿˜ä¸é”™ï¼Œä½†äººå‡æ¶ˆè´¹å¯¹æˆ‘æ¥è¯´è¿˜æ˜¯åè´µäº†ï¼Œè‡ªå·±ä¸€ä¸ªäººæ˜¯ä¸ä¼šè€ƒè™‘å»é‚£æ¶ˆç£¨æ—¶å…‰çš„ã€‚
- [æˆ‘çš„å¾®åšè§†é¢‘ 2022-02-26 23:44](https://weibo.com/2181657940/LhjC5nvX1)

## *_27. é‡ç©ã€ŠUNOã€‹æ„Ÿè§‰è¿˜ä¸é”™_

## 28. package.json peerDependencies & simplify webpack.config.js

[refactor(react): init react package by IceHe Â· Pull Request #201 Â· logto-io/js](https://github.com/logto-io/js/pull/201)

- `peerDependencies` in `package.json`
    - References:
        - [Peer Dependencies - nodejs.org/noticias](https://nodejs.org/es/blog/npm/peer-dependencies/)
        - [æ¢è®¨npmä¾èµ–ç®¡ç†ä¹‹peerDependencies - wonyun - åšå®¢å›­](https://www.cnblogs.com/wonyun/p/9692476.html)
            - [package.jsonæ–‡ä»¶ # peerDependencies - JavaScript æ ‡å‡†å‚è€ƒæ•™ç¨‹ï¼ˆalphaï¼‰- é˜®ä¸€å³°](http://javascript.ruanyifeng.com/nodejs/packagejson.html#toc3)

    > ä¸€ä¸ª package çš„ `peerDependencies` ç”¨äºæç¤ºå¼•å…¥è¯¥ package çš„é¡¹ç›®ä¹Ÿéœ€è¦å®‰è£…å“ªäº›ï¼ˆæŒ‡å®šç‰ˆæœ¬èŒƒå›´çš„ï¼‰å…¶å®ƒ packageã€‚

[chore(js,browser): simplify wepack config & code coverage excludes src/index.ts by IceHe Â· Pull Request #205 Â· logto-io/js](https://github.com/logto-io/js/pull/205)

- Simplify `webpack.config.js` in TypeScript projects
    - How to use Webpack in [TypeScript](https://webpack.js.org/guides/typescript/#loader) projects
        > Webpack documentation recommends to use `ts-loader` to transpile the code, e.g. TypeScript.
        >
        > Actually _"ts-loader uses tsc, the TypeScript compilerâ€¦"_,
        > so if have already used `tsc` to transpile TypeScript files `*.ts` into JavaScript files `*.js`,
        > we'd better package `*.js` directly instead of importing another devDependency `ts-loader` to deal with `*.ts` at first.

# 2022 Mar

## 1. PostgreSQL `jsonb` & `timestamptz`

`jsonb`

- [8.14. JSON Types - PostgreSQL 14 Documentation](https://www.postgresql.org/docs/14/datatype-json.html)

    > PostgreSQL offers two types for storing JSON data: `json` and `jsonb`. â€¦â€¦
    >
    > The `json` and `jsonb` data types accept almost identical sets of values as input.
    > The major practical difference is one of efficiency.
    > **The `json` data type stores an exact copy of the input text, which processing functions must reparse on each execution;**
    > **while `jsonb` data is stored in a decomposed binary format that makes it slightly slower to input due to added conversion overhead,**
    > **but significantly faster to process, since no reparsing is needed.**
    > **`jsonb` also supports indexing, which can be a significant advantage.**
    >
    > Because the `json` type stores an exact copy of the input text,
    > it will preserve semantically-insignificant white space between tokens, as well as the order of keys within JSON objects.
    > Also, if a JSON object within the value contains the same key more than once, all the key/value pairs are kept.
    > (The processing functions consider the last value as the operative one.)
    > By contrast, `jsonb` does not preserve white space, does not preserve the order of object keys, and does not keep duplicate object keys.
    > If duplicate keys are specified in the input, only the last value is kept.
    >
    > In general, most applications should prefer to store JSON data as `jsonb`,
    > unless there are quite specialized needs, such as legacy assumptions about ordering of object keys.
    >
    > â€¦â€¦

`timestamptz`

- [8.5 Date/Time Types - PostgreSQL 14 Documentation](https://www.postgresql.org/docs/14/datatype-datetime.html)

    > Note:
    > The SQL standard requires that writing just `timestamp` be equivalent to **timestamp without time zone**, and PostgreSQL honors that behavior.
    > `timestamptz` is accepted as an abbreviation for **timestamp with time zone**; this is a PostgreSQL extension.

## 2. Get started with `koa`

koa: next generation web framework for node.js - [koajs.com](https://koajs.com/)

_ï¼ˆç”Ÿæ´»ç‰‡æ®µï¼šç”¨æŒ‘æŸ“å‡å‘ç‰‡æ¨¡æ‹Ÿäº†ä¸€ä¸‹æŒ‘æŸ“çš„æ•ˆæœï¼Œæ„Ÿè§‰è€³ç›®ä¸€æ–°ï¼‰_

## *_3. å‰§æƒ…è¿˜ä¸é”™çš„ç•ªå‰§ã€Šå¤©æ‰ç‹å­çš„èµ¤å­—å›½å®¶æŒ¯å…´æœ¯ã€‹_

## *_4. åˆ¶ä½œç²¾è‰¯çš„å¼‚ä¸–ç•Œç•ªå‰§ã€Šä¸–ç•Œé¡¶å°–çš„æš—æ€è€…ï¼Œè½¬ç”Ÿä¸ºå¼‚ä¸–ç•Œè´µæ—ã€‹_

## 7. Change the type definition in PostgreSQL & Sign-in with Facebook

Change the type definition in PostgreSQL

- References

    - [ALTER TYPE - SQL Commands - PostgreSQL Docs](https://www.postgresql.org/docs/current/sql-altertype.html)
    - [Updating Enum Values in PostgreSQL - The Safe and Easy Way](https://blog.yo1.dog/updating-enum-values-in-postgresql-the-safe-and-easy-way/)
        - Easy way: [tl;dr](https://blog.yo1.dog/updating-enum-values-in-postgresql-the-safe-and-easy-way/#tldr)
        - Safe way: [Updating/Renaming a Value](https://blog.yo1.dog/updating-enum-values-in-postgresql-the-safe-and-easy-way/#updatingrenamingavalue)
    - Debug
        - [Setting up a PostgreSQL Database on Mac](https://www.sqlshack.com/setting-up-a-postgresql-database-on-mac/)
        - [PostgreSQL - Psql commands - GeeksforGeeks](https://www.geeksforgeeks.org/postgresql-psql-commands/)
        - [Display user-defined types and their details](https://dba.stackexchange.com/a/301746)
            > With `psql`:
            >
            > - `\dT` show list of user-defined types.
            > - `\dT+ <type_name>` show given user-defined type, with details.
            > - `\dT <type_name>` show given user-defined type, without details.

- TODO: note-taking?

    - Setup PosgreSQL on Mac
    - `psql` Usage
    - Change the type definition in PostgreSQL

[feat(core): facebook connector by IceHe Â· Pull Request #321 Â· logto-io/logto](https://github.com/logto-io/logto/pull/321)

## 8. Custom ORM supports `order by`

[feat(core): findAllApplications order by createdAt desc by IceHe Â· Pull Request #344 Â· logto-io/logto](https://github.com/logto-io/logto/pull/344)

- Implement the `ORDER BY` feature in the custom ORM using `Slonik`
    - Wrong: It doesn't work!
        ```ts
        type OrderDirection = 'ASC' | 'DESC';

        const orderDirection: OrderDirection = 'ASC';
        const orderToken = sql`
            ORDER BY created_at ${orderDirection}'
        `;
        ```
        - Because (e.g.) any string injected into <code>sql\`xxx ${str} ooo\`</code> will be converted to `'xxx "str" ooo'` finally.
    - Correct:
        ```ts
        const orderDirection = order === 'ASC' ? sql`ASC` : sql`DESC`;
        const orderToken = sql`
            ORDER BY created_at ${orderDirection}
        `;
        ```
    - References
        - [gajus/slonik: A PostgreSQL client with strict types, detailed logging and assertions.](https://github.com/gajus/slonik)
            - Principles
                - Promotes writing raw SQL.
                - Discourages ad-hoc dynamic generation of SQL.
            - To sum up, Slonik is designed to **prevent accidental creation of queries vulnerable to SQL injections**.
        - [Discussion of Dynamically generating SQL queries using Node.js](https://dev.to/gajus/dynamically-generating-sql-queries-using-node-js-2c1g/comments)
- Note: `ORDER BY` is after `WHERE` and before `LIMIT` `OFFSET`
- See PR for more details

## 9. Slonik & `type is` çš„ ts è¯­æ³•ï¼Ÿ

TODO

## 10. TODO?

Should declare the database table fields with default values?

- Should not. Better initialize by code. (It's enough to just declare them `not null`.)

Debug with GitHub Action/Workflow?

- Inputs?

## 12. è¿·èŒ«

TODO

## *_13. ç©è¿‡å¥—å¨ƒæœ€çŒ›çš„å‰§æœ¬æ€ã€ŠæŒæ–§å¥¥å¤«ã€‹ & åˆè¯†ä¸‰å›½æ€çš„å›½æˆ˜æ¨¡å¼_

TODO

## 14. JSONB vs Separate columns

TODO

## 15. PR | CORS?

TODO

[feat(schemas): sign-in-experiences by IceHe Â· Pull Request #361 Â· logto-io/logto](https://github.com/logto-io/logto/pull/361)

## 16. ç†è§£ PR

[refactor(browser): cache get access token promises by resource by gao-sun Â· Pull Request #229 Â· logto-io/js](https://github.com/logto-io/js/pull/229)

- References:
    - ç†è§£ Loop Event: [JS Visualizer 9000](https://www.jsv9000.app/)

TODO

## 17. ç†è§£ PR

[refactor(core): getConnectorInstances by IceHe Â· Pull Request #405 Â· logto-io/logto](https://github.com/logto-io/logto/pull/405)

TODO

## 18. lodash.once

- å¹¶å‘ï¼ševent loop
- æ•°æ®å­˜å‚¨è®¾è®¡ï¼šdesign of connectors DB & code
- åä½œï¼šPR based on another PR

[feat(core): resuse remote jwk set by IceHe Â· Pull Request #231 Â· logto-io/js](https://github.com/logto-io/js/pull/231)

- References:
    - lodash.once

TODO

## *_19. ç¬¬ä¸€æ¬¡å¼€å¡ä¸è½¦ & ç¾Šå¤§çˆ·æ¶®è‚‰_

TODO

## *_20. å‰§æœ¬æ€ã€Šäººå¶ä¹‹åŒ£ã€‹_

TODO

## 21. Sign-in-exp PRs

TODO: è±ç„¶å¼€æœ—ï¼ŒæŠŠä¸Šå‘¨ blocked çš„å˜æ›´ï¼Œæ‹†æˆä¸€ä¸ªä¸ª PR æ¥æäº¤ï¼›ä¹Ÿç”¨äº† ä¸€ä¸ª open PR based on another open PR çš„æŠ€å·§æ¥è®©åŒäº‹å¯ä»¥å¹¶è¡Œ review æˆ‘çš„ä»£ç å˜æ›´ã€‚

- [refactor(core): make getConnectorInstances access DB only once by IceHe Â· Pull Request #429 Â· logto-io/logto](https://github.com/logto-io/logto/pull/429)
- [refactor(core): get sign-in experience by IceHe Â· Pull Request #426 Â· logto-io/logto](https://github.com/logto-io/logto/pull/426)
- *_[refactor(core): implement findAllConnectors by findMany and order by enabled desc, id asc by IceHe Â· Pull Request #430 Â· logto-io/logto](https://github.com/logto-io/logto/pull/430)_
- *_[refactor(core): getEnabledPasswordlessConnectorInstanceByType  by IceHe Â· Pull Request #431 Â· logto-io/logto](https://github.com/logto-io/logto/pull/431)_
- *_[refactor(core): change PATCH /sign-in-exp/:id to PATCH /sign-in-exp by IceHe Â· Pull Request #427 Â· logto-io/logto](https://github.com/logto-io/logto/pull/427)_

## *_22. æ€¥æ€§èƒ°è…ºç‚ or æ€¥æ€§è‚ èƒƒç‚ï¼Ÿ_

TODO

## 23. Get sign-in experience

[refactor(core): get sign-in experience by IceHe Â· Pull Request #426 Â· logto-io/logto](https://github.com/logto-io/logto/pull/426)

- Do things asynchronously as possible `Promise.all([â€¦])`.

## 24. GitHub Actions & _å¤è¯Šç¡®è¯Š_

TODO

## 25. å…ˆè®¾è®¡å†å†™ä»£ç â€¦â€¦

TODO

è¯¦è§å¾®åš 26 è½¬å‘çš„æŸæ¡è‹±æ–‡å¾®åš

## *_26. éœ²è¥çƒ¤çƒ§ & æç£çƒ¤é¸­_

TODO

## *_27. å‰§æœ¬æ€ã€Šä¸€åº§åŸã€‹& æš–æˆ¿ç©ã€Šè¾¾èŠ¬å¥‡å¯†ç ã€‹& æƒŸç‚‰æ½®å¨çš„æ½®æ±•èœä¸é”™_

TODO

## *_28. åšé²¤ç”²èµ«çš„ç¦å»ºèœä¸é”™_

TODO

## 29. Zod guard refine

TODO

## *_30. äº¬Aå–é…’_

TODO

# 2022 April

## 1. typescript çš„ asserts

## 2. ç»ˆäºåˆè¿›å»äº†å¤šä¸ª PRs

## *_2. ç‰›éºŸèŸçš„æ½®æ±•ç‰›è‚‰ç«é”…_

## *_3. å‰§æœ¬æ€ã€ŠTODOã€‹& ç”µå½±ã€Šè¶…ä½“ã€‹_

TODOï¼šåå­—å¾…è¡¥å……

## *_4._

- ææ€–æ¸¸æˆDemoå®å†µã€Šä¸‰ä¼ã€‹æœ€åä¸€å¹•éå¸¸ç²¾å½©

## *_5._

- åˆå»å¤§å–œå®¶å’ŒåŒäº‹ä¸€èµ·ç©ç©ã€Šé©¬é‡Œå¥¥æ´¾å¯¹ã€‹
- åˆå»æ–°äº¬ç†¹åƒé¥­

## 6.

ç»ˆäºæƒ³é€šäº†â€¦â€¦

how-to-live.md

## *_7. æœ‹å‹æ¸¸æˆçœŸæœ‰è¶£_

## *_8. Warp: The Terminal for the 21st Century & **You are free to be free.**_

å¤§ç¯å¢ƒç„¦è™‘å¾—ä¸è¡Œï¼Œå¥½å¤šäººéƒ½æ€•è¢«è¿™ç¤¾ä¼šå’Œè‡ªç„¶æ·˜æ±°ï¼Œéƒ½å¿«é™ä¸ä¸‹å¿ƒæ¥åšç‚¹è‡ªå·±çœŸæ­£æƒ³åšçš„äº‹äº†â€¦â€¦ï¼ˆèººå¹³ã€åƒå–ç©ä¹ï¼Ÿâ€‹â€‹â€‹

## *_9. æ‰¾æˆ¿å‡†å¤‡æ¬å®¶ &ã€Šæ´¾å¯¹æµªå®¢è¯¸è‘›å­”æ˜ã€‹æ„å¤–åœ°æœ‰è¶£_

## *_10. å‰§æœ¬æ€æƒ…æ„Ÿæœ¬ã€Šé€¢å±±é‡é¬¼ã€‹& æ–°ä½å¤„è¯•ç¡_

## *_11. æ”¶æ‹¾è¡Œæ_

## *_12. æ¬å®¶_

## *_13. å» Review PR äº§ç”Ÿäº†æŒæ§æ„Ÿ_

review åˆ«äººæ„Ÿè§‰å°±æ˜¯ä¸ä¸€æ ·ï¼Œ
æœ€é‡è¦çš„è¿˜æ˜¯å¾—èƒ½å¤Ÿæå‡ºæœ‰ä»·å€¼çš„æ„è§ï¼Œæ‰èƒ½å¤Ÿè¢«è®¤åŒã€‚

## *_14. åˆå» KTV äº†_

æˆ‘ä»¬å·¥ä½œçœŸæµªï¼Œä½†éœ€è¦å‡‘é½é‚£ä¹ˆå‡ ä¸ªäººï¼Œæˆ‘ã€å¤§å–œã€æ€æ·ã€æŒ‚é¢ã€Ericã€‚

## 15. Logs DB schema _& è‚¥ç¦æ’æ¡£_

è®¨è®ºä¹‹åæœ‰äº†ä¸ä¸€æ ·çš„æ€è·¯ï¼Œå› ä¸ºåŒäº‹çš„æƒ³æ³•è·Ÿæˆ‘æœ‰ä¸å°çš„å·®å¼‚ã€‚ä¾‹å¦‚è®°å½• route å’Œ status codeï¼Œæˆ‘å°±æ²¡è¿™ä¹ˆæƒ³è¿‡ã€‚

å‘¨äº”ä¸‹ç­å»å¾—ä¸å¤Ÿæ—©ï¼Œç»“æœè¶³è¶³ç­‰äº†ä¸€å°æ—¶æ‰æœ‰ä½ç½®ã€‚
ç‚¹äº†ä¸€æ¡é’è¡£é±¼æ¯”è¾ƒè´µï¼Œæœ€åä¸‰ä¸ªäººåƒäº†å¿«1500å—ã€‚
è™½ç„¶å¤§å®¶ç­‰ä½ç­‰äº†æ¯”è¾ƒä¹…ï¼Œä½†å¥½æ­¹é¥­èœæ¯”è¾ƒå¯å£ï¼Œè¿˜æ˜¯åƒå¾—æŒºæ»¡æ„çš„ã€‚

## *_16. äº¬åŸæµ·å—é¸¡é¥­ & Coffee Holic çš„ç‰¹è°ƒ_

äº¬åŸæµ·å—é¸¡é¥­

- [æˆ‘çš„å¾®åš 2022-04-16 13:42](https://weibo.com/2181657940/LoHC31PWA)

ä¹…è¿çš„ Coffee Holic

- [æˆ‘çš„å¾®åš 2022-04-16 14:15](https://weibo.com/2181657940/LoHPm1zcS)

## *_17. æƒŸç‚‰æ½®å¨ & æ¸©å·å¤§æ’æ¡£ & æ—¢èººå¹³åˆç„¦è™‘ï¼Œæƒ³è¦å®‰ç¨³_

æƒŸç‚‰æ½®å¨

- [æˆ‘çš„å¾®åš 2022-04-17 15:35](https://weibo.com/2181657940/LoRMy0oF7)

æ¸©å·å¤§æ’æ¡£

- [æˆ‘çš„å¾®åš 2022-04-17 19:41](https://weibo.com/2181657940/LoTocF6PR)

æ—¢èººå¹³åˆç„¦è™‘

- [æˆ‘çš„å¾®åš 2022-04-19 00:15](https://weibo.com/2181657940/Lp4C2heO5)

> å‘¨æœ«è·Ÿæœ‹å‹åƒé¥­èŠå¤©ï¼ŒèŠåˆ°äº†é‚£ç§æ—¢èººå¹³åˆç„¦è™‘çš„çŠ¶æ€ã€‚
> åˆ°äº†æ™šä¸Šï¼ŒåˆçŸ¥é“äº†ä¸€ä¸ªæœ‹å‹è¢«è£äº†ã€‚
> èººå¹³æ˜¯è‡ªç„¶è€Œç„¶çš„ï¼Œä½†äººä¹Ÿä¼šè¢«ç¤¾ä¼šç°çŠ¶ï¼ˆç»æµã€äººã€äº‹ï¼‰å¼„å¾—ç„¦è™‘ï¼Œæ˜¯ä¸€ç§å¥‡æ€ªåˆæ­£å¸¸çš„çº ç»“çš„çŠ¶æ€ã€‚ â€‹â€‹â€‹â€‹

æƒ³è¦å®‰ç¨³

- [æˆ‘çš„å¾®åš 2022-04-17 21:26](https://weibo.com/2181657940/LoU4OEMwO)

## *_18. å¤§è‘£çš„çƒ¤é¸­_

å¤§è‘£çš„çƒ¤é¸­ç¡®å®ä¸é”™ï¼Œå°±æ˜¯è´µ

- [æˆ‘çš„å¾®åš 2022-04-18 20:48](https://weibo.com/2181657940/Lp3g60Ar6)

[feat(schemas): logs schema and log payload type by IceHe Â· Pull Request #561 Â· logto-io/logto](https://github.com/logto-io/logto/pull/561)

-   â€œå¦‚æ— å¿…è¦ï¼Œå‹¿å¢å®ä½“ã€‚â€ ç²¾ç®€å­—æ®µï¼Œç­‰åˆ°æœ‰å¿…è¦å†å¢æ”¹ã€‚

    ```sql
    create table logs
    (
      id          varchar(21)                      not null,
      type        varchar(64)                      not null,
      payload     jsonb /* @use ArbitraryObject */ not null default '{}'::jsonb,
      created_at  timestamptz                      not null default (now()),
      primary key (id)
    );

    create index logs__type on logs (type);
    create index logs__created_at on logs (created_at);
    ```

## *_19. è¥¿ç²‰å ‚çš„æ–°ç–†ç‚’ç±³ç²‰_

_è™½ç„¶æˆ‘è§‰å¾—å¥½åƒï¼Œä½†æ˜¯æ€æ·å’Œå¤§å–œè§‰å¾—å¤ªå’¸äº†_ ğŸ˜‚

[feat(core): logs by IceHe Â· Pull Request #569 Â· logto-io/logto](https://github.com/logto-io/logto/pull/569)

-   é™¤äº†å¿…é¡»çš„ä¿¡æ¯å¤–ï¼Œå…¶å®ƒ `...rest` éƒ½æ”¾åˆ°æ—¥å¿—çš„æ‹“å±•å­—æ®µä¸­ã€‚

    ```ts
    const log = async (ctx: WithLogContext<Context>, result: LogResult) => {
      const { type, ...rest } = ctx.log;

      if (!type) {
        return;
      }

      try {
        await insertLog({
          id: nanoid(),
          type,
          payload: {
              ...rest,
              result,
          },
        });
      } catch (error: unknown) {
        console.error('An error occurred while inserting log');
        console.error(error);
      }
    };
    ```

<!--

## ?. PostgreSQL & JSONB?

## ?. Lerna?

Lerna

- References:
    - [lerna/lerna: A tool for managing JavaScript projects with multiple packages.](https://github.com/lerna/lerna)
    - [Lerna Â· A tool for managing JavaScript projects with multiple packages.](https://lerna.js.org/)
    - [learna - npm](https://www.npmjs.com/package/lerna)
