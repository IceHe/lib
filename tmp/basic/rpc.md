# RPC

- 其实说到了一些服务网格的东西

> Remote Produre Call

调用方式自然，方便

- 就像调用本地方法一样，直观

传输 Protocol 自定义

- HTTP
- TCP / UDP
- QUIC

添加连接池

- HTTP 短连 -> 长连
- 连接复用

序列化压缩自定义

- protocol buffer + quicklz
- json + gzip（最常见）
- 语言自带的序列化 + binary stream
- …

超时控制

- 就像网络包的 ttl，超过多长时间，上游接口就直接丢弃请求，不返回即可，节省网络资源

服务注册、发现

- 新加入的服务端注册到中心，提供服务
    - 心跳机制确定是否
- 新加入的客户端连接到服务中心，获得可以提供服务的机器
    - 然后客户端可以直连服务端
    - 注册中心可以对服务进行负载均衡的分配
- 当然也可以「直连」- 配置域名/IP + 端口

负载均衡

- trace 定位故障
- 服务熔断（降级、DDOS）
